2020/10.12

1.  实现路由跳转时登录验证，登录后继续跳转到之前页面

```javascript
// vueRouter.js
const router = new VueRouter({
  route: [
    {
      path: "/main",
      component: () => import("/main"),
      meta: {
        // 在需要跳转拦截的页面中添加 meta
        auth: true,
      },
    },
  ],
});

router.beforeEach((to, from, next) => {
  if (to.meta.auth) {
    if (sessionStorage.getItem("isLogin") !== null) {
      next();
    } else {
      next({
        path: "/login",
        query: { redirect: to.fullPath },
      });
    }
  } else {
    next();
  }
});
```

登录组件

```javascript
// login.vue
login() {
    // ...
    sessionStorage.setItem('isLogin', true)
    const redirect = decodeURIComponent(this.$route.query.redicter || '/')
    this.$router.push({path: redirect})
}
```

/deep/